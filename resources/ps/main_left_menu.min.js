"use strict";gx.compatibility.module("main_left_menu",[],function(e){var n=$(this),t={},o=0,s=100,i=s,a=!1,u=null,r=0,h=0,f=($.extend(!0,{},t,e),{}),l=function(e){var n=e.hasClass("current");if(0!==e.find("li").length&&!n&&!e.is(":visible")){var t=e.prev().prev(),o=0===$(".leftmenu_box").index(e),s=o?-4:-5,i=10,a=-10,u=$(window).scrollTop()+window.innerHeight,r=$(".main-page-content").offset().top-$(".main-top-header").height(),h=t.offset().top-r+s,f=u-e.height()-r+s-i;e.css({left:$(".main-left-menu").width()+a}),h<f?e.css({top:h}):e.css({top:f}),e.fadeIn(100),e.addClass("floating"),t.addClass("active")}},m=function(e){var n=e.hasClass("current");!e.is(":visible")||n||a||(e.fadeOut(100),e.removeClass("floating"),e.prev().prev().removeClass("active"))},v=function(e){$(this).addClass("hover");var n=$(this);clearTimeout(o),o=setTimeout(function(){l(n.next().next()),i=0},i)},c=function(e){clearTimeout(o),$(this).removeClass("hover");var n=$(this).next().next(),t=$(this);setTimeout(function(){n.hasClass("hover")||t.hasClass("hover")||m(n)},10)},d=function(e){$(this).hasClass("hover")||$(this).addClass("hover");$(this).next().next()},p=function(e){$(this).addClass("hover")},g=function(e){$(this).removeClass("hover");var n=$(this),t=n.prev().prev();setTimeout(function(){n.hasClass("hover")||t.hasClass("hover")||m(n)},10)},C=function(e){r=e.pageX,h=e.pageY},x=function(e){if(r>e.pageX+5||r<e.pageX-5||h>e.pageY+5||h<e.pageY-5)return!1;if(1===e.which||2===e.which){e.preventDefault(),e.stopPropagation();var n=$(e.currentTarget),t=n.next().next().find("li:first").find("a:first"),o=1===e.which?"_self":"_blank";t.prop("href")&&window.open(t.prop("href"),o)}},_=function(){i=s},w=function(){u=$(this),a=!0},b=function(){a=!1,u&&m(u)};return f.init=function(e){n.on("mouseenter",".leftmenu_head",v).on("mouseleave",".leftmenu_head",c).on("mousemove",".leftmenu_head",d).on("mouseenter",".leftmenu_box",p).on("mouseleave",".leftmenu_box",g).on("mousedown",".leftmenu_box",w).on("mousedown",".leftmenu_head",C).on("mouseup",".leftmenu_head",x).on("mouseleave",_),$(document).on("mouseup",b),e()},f});